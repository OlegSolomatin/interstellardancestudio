html {
  box-sizing: border-box;
  font-family: 'Open-Sans', sans-serif;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}
$grayBg: #161616;

$numSlides: 5;
$imgDist: -150 * 1px;

$bgSpd: 500 * 1ms;
$imgSpd: 1000 * 1ms;

$bgPageClr: #131417;
$bgCellClr: rgba(0, 0, 0, .5);
$bgContentClr: #1C1E22;
$cellHvrClr: #F25555;

$rows: 2;
$cellsInRow: 2;

$cellAnSpeed: 400 * 1ms;
$hoverDarkSpeed: 500 * 1ms;

/*COMING SOON*/
$background:#000;
$primary:#a85067;
$secondary:#3e2845;
$shade:#2c2637;
/**/

$bgPics: (
        url('../img/testbg3.jpg') center center no-repeat,
        url('../img/testbg2.jpg') center center no-repeat,
        url('../img/testbg1.jpg') center center no-repeat,
        url('../img/testbg4.jpg') center center no-repeat,
        url('../img/testbg5.jpg') center center no-repeat
);

$bgFirstpage: (
        url('../img/polina.jpg') center right no-repeat,
        url('../img/andrey (2).png') center right no-repeat,
        url('../img/sergey.png') center right no-repeat,
        url('../img/andrey.jpg') center right no-repeat
);

@mixin mediaMaxW($width) {
  @media screen and (max-width: $width) {
    @content;
  }
}

.cont {
  position: relative;
  height: 100vh;
  overflow: hidden;
}

.slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  will-change: transform;
  overflow: hidden;
  cursor: pointer;

  &__img {
    position: relative;
  }
  &__close {
    position: fixed;
    top: 3%;
    left: 3%;
    width: 10vw;
    height: 10vw;
    max-width: 100px;
    min-width: 50px;
    max-height: 100px;
    min-height: 50px;
    z-index: 0;
    opacity: 0;
    cursor: pointer;
    transition: opacity 200ms, z-index 0ms 200ms;
    &:after, &:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 115px;
      height: 20px;
      border-radius: 20px;
      background-color: #fff;
      transition: 500ms 500ms;
      @include mediaMaxW(960px) {
        width: 75px;
        height: 15px;
      }
    }
    &:after {
      transform-origin: center left;
      transform: rotate(45deg) scale(0, 0);
    }
    &:before {
      left: -33px;
      transform-origin: center right;
      transform: rotate(-45deg) scale(0, 0);
      transition: 500ms 650ms;
      @include mediaMaxW(960px) {
        left: -21px;
      }
    }
  }
  &__bg-dark {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, .5);
    opacity: 0;
    transition: 350ms;
    z-index: 2;
  }
  &__text {
    position: absolute;
    top: 50%;
    left: 4%;
    width: 23%;
    text-transform: uppercase;
    word-wrap: break-word;
    color: #fff;
    font: {
      size: 30px;
      weight: 800;
    }
    transform: translate3d(0, -50%, 0) rotate(0.01deg);
    will-change: transform, opacity;
    transition: 750ms;
    opacity: 1;
    z-index: 1;
    @include mediaMaxW(960px) {
      font: {
        size: 30px;
      }
    }
  }
  &__container-content{
    width: 100%;
    height: 100%;
    display: none;
    @mixin mediaMaxH($height) {
      @media screen and (max-height: $height) {
        @content;
      }
    }

    /************************************************ КОНТЕНТ ПЕРВОГО СЛАЙДА ******************************************************************/
    .container-main {
      height: 100vh;
      background-color: $background;

      .box {
        display: flex;
        justify-content: flex-end;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        width: 100%;
        height: 100%;
        z-index: 1;
        overflow: hidden;
        &__row {
        &-cell {
          position: absolute;
          top: 35%;
          left: 50%;
          width: (50% - 2%) / $cellsInRow;
          height: (60% - 2%) / $rows;
          background-color: $bgCellClr;
          transform: translateZ(0);
          transition: all $cellAnSpeed 600ms, width 300ms 300ms, background-color 300ms 600ms;
          cursor: pointer;
          overflow: hidden;
          z-index: 2;
          &:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: $hoverDarkSpeed;
          }
          &:before {
            content: '';
            position: absolute;
            top: -5%;
            left: -5%;
            width: 110%;
            height: 110%;
            background-color: rgba(0, 0, 0, 0);
            opacity: 1;
            transition: 300ms;
            z-index: -3;
          }
          &:hover:before {
            background-color: $cellHvrClr;
          }
          &-info {
            margin-left: 20px;
            width: 100px;
            color: #fff;
            transition: $cellAnSpeed $cellAnSpeed + 450;
            &-ep {
              margin-top: 25px;
              font-size: 10px;
              span {
                padding-left: 10px;
              }
              @include mediaMaxH(915px) {
                margin-top: 10px;
              }
            }
            &-title {
              letter-spacing: 2px;
              margin-top: 15px;
              font-size: 20px;
              @include mediaMaxH(692px) {
                margin-top: 8px;
                font-size: 18px;
              }
              @include mediaMaxH(692px) {
                font-size: 16px;
                margin-top: 4px;
              }
            }
            &-sign {
              margin: 15px 0 0 2px;
              height: 3px;
              width: 20px;
              background-color: #fff;
              border-radius: 1px;
              transition: 200ms;
              z-index: 10;
              @include mediaMaxH(800px) {
                margin-top: 10px;
              }
            }
          }
          &-info--time {
            position: absolute;
            bottom: 18px;
            font-size: 10px;
            @include mediaMaxH(650px) {
              right: 20px;
              text-align: right;
            }
          }
          &-info--full {
            transform: translateX(-50px);
            opacity: 0;
            margin: 5vw 0 0 2vw;
            transition: 300ms;
            &-heading {
              line-height: 60px;
              width: 300px;
              color: #131313;
              font: {
                size: clamp(20px, 4vw, 60px);
                weight: 900;
              }
            }
            &-par {
              padding-top: 50px;
              color: #fff;
              font-size: clamp(20px, 4vw, 60px);
            }
          }
        }
        @for $i from 1 through $cellsInRow {
          &-cell:nth-child(#{$i + 1}) {
            left: 50% + ((50% / $cellsInRow) * $i);
          }
        }
      }
        @for $i from 1 through $rows {
        &__row:nth-child(#{$i + 1}) {
          .box__row-cell {
            top: 35% + (65% / $rows) * $i;
          }
        }
      }
        .box__content {
          position: absolute;
          width: 100%;
          height: 100%;
          left: 0;
          background-color: $bgContentClr;
          transform: translateZ(0);
          opacity: 0;
          z-index: -10;
          transition: all 400ms 600ms, z-index 0ms 0ms;
        .box__content-wrapper {
          position: relative;
          margin-left: auto;
          width: 60%;
          height: 100%;
          overflow: hidden;
          .box__content-inner {
            position: absolute;
            left: 18px;
            transform: translateX(50px);
            width: 100%;
            height: 100%;
            overflow: auto;
            opacity: 0;
            transition: $cellAnSpeed, opacity 200ms;
            .box__content-text{
              padding: 20px 0 30px 8px;
              width: 300px;
              max-width: 100%;
              color: #ababab;
              .box__content-text-heading {
                position: relative;
                margin: 50px 0 20px 0;
                color: #f5f5f5;
                font: {
                  size: 16px;
                }
              }
              .box__content-text-heading:after {
                content: '';
                position: absolute;
                top: -15px;
                left: 0;
                width: 20px;
                height: 2px;
                background-color: #a73c3c;
                box-shadow: 0 0 1px 0 #a73c3c;
              }
              .box__content-text-par {
                line-height: 22px;
                padding-bottom: 10px;
                font: {
                  size: 14px;
                }
              }
              .box__content-text-list {
                list-style-type: none;
                .box__content-text-item {
                  padding-bottom: 3px;
                  font: {
                    size: 14px;
                  }
                }

              }
              .box__content-text-link {
                text-decoration: none;
                color: #ababab;
                font: {
                  size: 14px;
                }
              }
              .box__content-text-link:hover {
                text-decoration: underline;
              }
            }
          }
        }
      }

        /*Заполнение БГ ккарточек на главной странице*/

        @each $item in $bgFirstpage {
          $i: index($bgFirstpage, $item);
          .box__content--#{$i}>.box__content-wrapper>.box__content-inner {
            background: $item;
            background-size: contain;
          }
        }

        &__close {
        position: absolute;
        top: 3vh;
        left: 2vw;
        height: 30px;
        width: 30px;
        font-size: 0;
        cursor: pointer;
        z-index: 9999;
        display: none;
        &:after,
        &:before {
          content: '';
          position: absolute;
          top: 14px;
          left: -2px;
          transform: rotate(45deg);
          width: 35px;
          height: 2px;
          background-color: #fff;
          opacity: 0;
          transition: 500ms;
        }
        &:before {
          transform: rotate(-45deg);
        }
        span {
          position: relative;
          display: inline-block;
          margin: 1px;
          width: 4px;
          height: 4px;
          border-radius: 50%;
          background-color: #fff;
          transition: $cellAnSpeed 500ms;
        }
        @for $i from 6 through 10 {
          span:nth-child(#{$i}) {
            right: 6px;
          }
        }
      }

        &__episodes {
        position: absolute;
        top: 28%;
        right: 15px;
        color: #fff;
        letter-spacing: 2px;
        font-size: 10px;
        &:after {
          content: '';
          position: absolute;
          top: -20px;
          right: 2px;
          width: 15px;
          height: 1px;
          background-color: #fff;
        }
      }

        &__title {
        position: absolute;
        top: 25%;
        left: 9%;
        &-heading {
          position: relative;
          color: $cellHvrClr;
          letter-spacing: 3px;
          line-height: 65px;
          text-transform: uppercase;
          font: {
            size: 65px;
          }
          span {
            letter-spacing: 6px;
            color: #fff;
          }
        }
        &-par {
          text-transform: uppercase;
          margin-top: 35%;
          color: #7b2222;
          font: {
            size: 13px;
            weight: bold;
          }
        }
      }

        .show-content {
          opacity: 1;
          z-index: 2;
          transition: all 300ms $cellAnSpeed, z-index 0ms 0ms;
          .box__content-wrapper>.box__content-inner {
            transform: translateX(0);
            opacity: 1;
            transition: 300ms 1100ms;
          }
        }

      }

      .active {
        left: 0 !important;
        top: 0 !important;
        height: 100%;
        width: 40%;
        background-color: $cellHvrClr;
        z-index: 5;
        transition: all $cellAnSpeed 400ms, width 300ms $cellAnSpeed + 400;
        cursor: default;
        opacity: 1 !important;
        @for $i from 1 through 4 {
          .box__row-cell-info:nth-child(#{$i}) {
            transform: translateX(50px);
            opacity: 0;
            transition: 300ms 50ms * ($i - 1) ease-in, opacity 375ms 50ms * ($i - 1);
          }
        }
        .box__row-cell-info--full {
          transform: translateX(0);
          opacity: 1;
          transition: 300ms 900ms;
        }
      }

      .cell-fade {
        opacity: 0;
        transition: all $cellAnSpeed 400ms, width 300ms $cellAnSpeed + 400, opacity 200ms 300ms;
      }

      .hover-cell {
        &:after {
          opacity: 1;
        }
      }

      .box-close-active {
        &:after,
        &:before {
          opacity: 1;
          transform: rotate(135deg);
          transition: 500ms 800ms;
        }
        &:before {
          transform: rotate(45deg);
        }
        span {
          opacity: 0;
          transition: 0ms 800ms;
        }
      }
    }
    /************************************************ КОНЕЦ ПЕРВОГО СЛАЙДА ***********************************************************/
    /*COOMING SOON*/
    .comming-soon{
      display:flex;
      justify-content:center;
      align-items:center;
      flex-flow:column;
      position:relative;
      height:100vh;
      width: 100%;
      background: $background;
      z-index: 2;
      .circle{
        width:250px;
        height:250px;
        background:$background;
        border-radius:100%;
        -webkit-animation: shadow 2s linear 2s infinite alternate;
        animation: shadow 2s linear 2s infinite alternate;
      }
      .form-group{
        width:450px;
        text-align:center;
        position:absolute;
        top:50%;
        .text{
          color:#efefef;
          letter-spacing:15px;
          font-size:20px;
        }
        label{
          color:#efefef;
          font-size:15px;
          margin-top:40px;
          margin-bottom:15px;
        }
        .input-group{
          width:100%;
          input{
            border-radius:15px 0px 0px 15px;
            background:rgba(2555,255,255,0);
            border-color:$secondary;
            padding-left:15px;
            &:focus{
              box-shadow:none !important;
              border-color:$secondary !important;
              background:#efefef;
            }
          }
          .input-group-text{
            border-radius:0px;
            padding:0px;
            border:none;
            background:transparent;
            button{
              border:1px solid $secondary;
              border-radius:0px 15px 15px 0px;
              background:$secondary;
              padding:10px 20px;
              color:#fff;
              font-weight:normal;
              letter-spacing:2px;
              &:hover{
                cursor:pointer;
                background:darken($secondary,3%);
              }
              &:focus{
                box-shadow:none !important;
                outline:none !important;
              }
            }
          }

        }
      }
    }
    @-webkit-keyframes shadow {
      0%   {box-shadow:0px -3px 2px $primary;}
      25%  {box-shadow:0px -6px 4px $primary;}
      50%  {box-shadow:0px -9px 6px $primary;}
      75%  {box-shadow:0px -12px 8px $primary;}
      100% {box-shadow:0px -15px 10px $primary;}
    }
    @keyframes shadow {
      0%   {box-shadow:0px -3px 2px $primary;}
      25%  {box-shadow:0px -6px 4px $primary;}
      50%  {box-shadow:0px -9px 6px $primary;}
      75%  {box-shadow:0px -12px 8px $primary;}
      100% {box-shadow:0px -15px 10px $primary;}
    }
    /**************************************************************************************/
  }
}

.slide {
  left: 100%;
}

@each $item in $bgPics {
  $i: index($bgPics, $item);
  .slide--#{$i} {
    z-index: $i - 1;
    background: $item;
    background-size: cover;
  }
}

.icon-show {
  opacity: 1;
  z-index: 5;
}

.active {
  .slide--1 {
    .slide__bg {
      transform: scale(0, 1);
      transition: $bgSpd;
    }
    .slide__img-wrapper {
      transform: translate3d($imgDist, 0, 0);
      transition: $imgSpd;
    }
  }
  @for $i from 1 through $numSlides {
    .slide--#{$i} {
      transform: translate3d((-100% / $numSlides) * ($numSlides - ($i - 1)), 0, 0);
      transition: transform $bgSpd $bgSpd * (($i - 1) * 1.3);
      .slide__bg {
        transform: scale(0, 1);
        transition: $bgSpd * 2 $bgSpd * (($i - 1) * 1.3) ;
      }
      .slide__img-wrapper {
        transform: translate3d($imgDist, 0, 0);
        transition: $imgSpd $bgSpd * (($i - 1) * 1.3);
      }
    }
  }
}

.show-close {
  z-index: 4;
  opacity: 1;
  &:after {
    transform: rotate(45deg) scale(1, 1);
  }
  &:before {
    transform: rotate(-45deg) scale(1, 1);
  }
}
